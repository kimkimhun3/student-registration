<!doctype html>

<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Students Registration form</title>
   </head>
     <body>
      <a href="/view" target="_blank">Click here to  View All students </a> 
      <br>
     <h1>Enter your Details</h1>
    <form id="studentForm" method="post" action="/add">
         
             <h4>ROLL NO:</h4>
                <input type="text" id="roll_no" name="roll_no"
                  style="width: 47%;" required="required"/>
             <br>
              <h4>First Name</h4>
                <input type="text" id="first_name" name="first_name"
                  style="width: 47%;" required="required"/>
              <br>
            <h4>Last Name</h4>
                <input type="text" id="last_name" name="last_name"
                  style="width: 47%;" required="required"/>
               <br>
             <h4>Gender</h4> 
               <select id="gender" name="gender">
                  <option value="M">Male</option>
                  <option value="F">Female</option>
                  <option value="O">Other</option>
                </select>
            <h4>Phone</h4>
                <input type="text" id="phone" name="phone"
                  style="width: 47%;"/>
             <br>
            
            <h4>Email</h4>
                <input type="email" id="email" name="email"
                  style="width: 47%;" required="required"/>
              
            <br>
            <h4>Degree</h4>
                <input type="text" id="degree" name="degree"
                  style="width: 47%;"/>
              <br>
              <h4>Branch</h4>
                <input type="text" id="branch" name="branch"
                  style="width: 47%;" />

                  <h4>College</h4>
                <input type="text" id="college" name="college"
                  style="width: 47%;" />
              <br>
                 <h4>Date of Birth</h4>    
                <input type="date" id="dob" name="dob"
                  style="width: 47%;" required="required"/>
            <br> 
            
                <input type="submit" value="Save Details"
                  style="padding: 5px; font-size: medium;" />
             
          </div>
        </form>
         <br>
        <div id="msg" style="display:none"></div>
     </body>
     <script src="/js/jquery.min.js"></script>
     <script type='text/javascript' >
     $(document).ready(function(){
      
  $("#studentForm").submit(function(e) {
    e.preventDefault();
    var roll=$("#roll_no").val();
    var fn=$("#first_name").val();
    var ln=$("#last_name").val();
    var phone=$("#phone").val();
    var email=$("#email").val();
    var degree=$("#degree").val();
    var branch=$("#branch").val();
    var college=$("#college").val();
    var gender=$("#gender").val();
    var dob=$("#dob").val();
    //alert(gender);
    //alert(roll+" "+fn+" "+ln+" "+phone+" "+email+" "+degree+" "+branch+" "+college+" "+dob);
    $.post('/registration', { roll:roll,
                               fn:fn,
                               ln:ln,
                               phone:phone,
                               email:email,
                               degree:degree,
                               branch:branch,
                               college:college,
                               dob:dob,
                               gender:gender

                      }, function(data) {
                        if(data.success=="ok")
                        {
                             alert("Registration is success");
                             $("#msg").html("<span style='color:blue;margin-left:20px'>Registration Done Succesfully </span>");
                             $("#msg").show();     
                        } else 
                        {
                          alert("Registration is failed");
                          $("#msg").html("<span style='color:red;margin-left:20px'>Registration Failed </span>");
                             $("#msg").show();   
                        }
                      },"json");  
    
  });
   
  });
     </script>
   </html>